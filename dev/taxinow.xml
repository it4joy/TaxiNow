<context>
	<input id="start_bot" pattern="/start $Text">
		<context id="start_bot_use">
			<output value="Hi, I'm a taxi operator. Please, write your phone number, only digits."/>
			
			<input id="phone" pattern="$Text">
				<var name="userPhoneNum" value="$Text" scope="user"/>
				
				<context id="number_use" if="full($userPhoneNum)">
					<output value="Where are you?"/>
					
					<input id="start_point" pattern="$Text">
						<var name="startPoint" value="$Text" scope="context"/>
						
						<context id="start_point_use" if="full($startPoint)">
							<output value="Ok. And where would you like to go?"/>
							
							<input id="end_point" pattern="$Text">
								<var name="endPoint" value="$Text" scope="context"/>
								
								<context id="end_point_use" if="full($endPoint)">
									<output value="Ok. What type of taxi you need?"/>

									<input id="taxi_type" pattern="$Text">
									<sample>
										<item>passenger</item>
										<item>cargo</item>
									</sample>
									<var name="taxiTypeSel" value="$Text" scope="context"/>
									
									
										<output value="Your choice - passenger taxi"/>
									</input>
								</context>
								
								
							</input>
						</context>
					</input>
				</context>
			</input>
		</context>
	</input>
</context>