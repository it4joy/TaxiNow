<context>
	<input id="start_bot" pattern="/start $Text">
		<context id="start_bot_use">
			<output value="Hi, I'm a taxi operator. Please, write your phone number, only digits."/>
			
			<input id="phone" pattern="$Text">
				<var name="userPhoneNum" value="$Text" scope="user"/>
				
				<context id="number_use" if="full($userPhoneNum)">
					<output value="Where are you?"/>
					
					<input id="start_point" pattern="$Text">
						<var name="startPoint" value="$Text" scope="context"/>
						
						<context id="start_point_use" if="full($startPoint)">
							<output value="Ok. And where would you like to go?"/>
							
							<input id="end_point" pattern="$Text">
								<var name="endPoint" value="$Text" scope="context"/>
								
								<context id="end_point_use" if="full($endPoint)">
									<output value="Ok. What type of taxi you need? Passenger - p, cargo - c"/>

									<input id="taxi_type" pattern="$Text">
										<var name="taxiTypeSel" value="$Text" scope="context"/>
										
										<context id="taxi_passenger" if="full($taxiTypeSel) and $taxiTypeSel == 'p'">
											<output value="Your choice is $taxiTypeSel"/>
										</context>
										
										<!-- <context id="taxi_cargo" if="full($taxiTypeSel) and $taxiTypeSel == 'c'">
											<output value="Your choice is $taxiTypeSel"/>
										</context> -->
										<!-- <output value="Your choice is $taxiTypeSel"/> -->
									</input>
								</context>
							</input>
						</context>
					</input>
				</context>
			</input>
		</context>
	</input>
</context>